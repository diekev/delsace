importe "flux"

struct FOO {
    a := 123
}

fonc bar(dyn f : &FOO) : rien
{
    f.a = 987
}

fonc foo(dyn a : &z32) : rien
{
    a := 7
}

fonc échange(dyn a : &z32, dyn b : &z32) : rien
{
    tmp := a
    a = b
    b = tmp
}

fonc principale(args : []*z8) : z32
{
    dyn a := 5
    imprime("a = ", a, '\n')

    foo(a)

    imprime("a = ", a, '\n')

    ######################

    dyn foo : FOO

    imprime(foo, '\n')

    bar(foo)

    imprime(foo, '\n')

    ######################

    x := 123
    y := 456
    imprime("x = ", x, ", y = ", y, '\n')

    échange(x, y)
    imprime("x = ", x, ", y = ", y, '\n')

    ######################

    z := 5
    dyn w : &z32 = z

    imprime("z = ", z, '\n')

    w := 10

    imprime("z = ", z, '\n')

    ######################

    retourne 0
}
