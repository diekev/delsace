importe "flux"

FOO :: struct {
    a := 123
}

bar :: fonc(dyn f : &FOO) -> rien
{
    f.a = 987
}

foo :: fonc(dyn a : &z32) -> rien
{
    a := 7
}

échange :: fonc(dyn a : &z32, dyn b : &z32) -> rien
{
    tmp := a
    a = b
    b = tmp
}

principale :: fonc () -> z32
{
    dyn a := 5
    imprime_sans_format("a = ", a, '\n')

    foo(a)

    imprime_sans_format("a = ", a, '\n')

    //#####################

    dyn foo : FOO

    imprime_sans_format(foo, '\n')

    bar(foo)

    imprime_sans_format(foo, '\n')

    //#####################

    x := 123
    y := 456
    imprime_sans_format("x = ", x, ", y = ", y, '\n')

    échange(x, y)
    imprime_sans_format("x = ", x, ", y = ", y, '\n')

    //#####################

    z := 5
    dyn w : &z32 = z

    imprime_sans_format("z = ", z, '\n')

    w := 10

    imprime_sans_format("z = ", z, '\n')

    //#####################

    retourne 0
}
