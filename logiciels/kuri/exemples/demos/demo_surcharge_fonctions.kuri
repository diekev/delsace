// démonstration de la surchage de fonctions.

importe "flux"

struct TEST {
    fonction : fonc(eini)z32
}

fonc foo(args : eini) -> z32
{
    imprime_sans_format("appel foo avec eini\n")
    imprime_sans_format(args, '\n')
    retourne 123
}

fonc foo(args : chaine) -> z32
{
    imprime_sans_format("appel foo avec chaine\n")
    imprime_sans_format(args, '\n')
    retourne 0
}

fonc principale(args : []*z8) -> z32
{
    dyn t : TEST
    t.fonction = foo

    x := t.fonction("je ne sais pas")

    imprime_sans_format("résultat : ", x, '\n')

    ptr := foo

    ptr("je ne sais pas")

    foo(1)
    foo("nouvelle chaine")

    retourne 0
}
