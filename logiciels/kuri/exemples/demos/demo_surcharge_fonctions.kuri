// démonstration de la surchage de fonctions.

importe "flux"

TEST :: struct {
    fonction : fonc(eini)z32
}

foo :: fonc(args : eini) -> z32
{
    imprime("appel foo avec eini\n")
    imprime("%\n", args)
    retourne 123
}

foo :: fonc(args : chaine) -> z32
{
    imprime("appel foo avec chaine\n")
    imprime("%\n", args)
    retourne 0
}

principale :: fonc () -> z32
{
    t : TEST
    t.fonction = foo

    x := t.fonction("je ne sais pas")

    imprime("résultat : %\n", x)

    ptr := foo

    ptr("je ne sais pas")

    foo(1)
    foo("nouvelle chaine")

    retourne 0
}
