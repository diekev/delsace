importe Chaine
importe Compilatrice
importe Fondation

CSSOMString :: ChaineUTF16Unique

PROP_cursor : CSSOMString = ---
PROP_auto : CSSOMString = ---
PROP_default : CSSOMString = ---
PROP_none : CSSOMString = ---
PROP_context_menu : CSSOMString = ---
PROP_help : CSSOMString = ---
PROP_pointer : CSSOMString = ---
PROP_progress : CSSOMString = ---
PROP_wait : CSSOMString = ---
PROP_cell : CSSOMString = ---
PROP_crosshair : CSSOMString = ---
PROP_text : CSSOMString = ---
PROP_vertical_text : CSSOMString = ---
PROP_alias : CSSOMString = ---
PROP_copy : CSSOMString = ---
PROP_move : CSSOMString = ---
PROP_no_drop : CSSOMString = ---
PROP_not_allowed : CSSOMString = ---
PROP_grab : CSSOMString = ---
PROP_grabbing : CSSOMString = ---
PROP_e_resize : CSSOMString = ---
PROP_n_resize : CSSOMString = ---
PROP_ne_resize : CSSOMString = ---
PROP_nw_resize : CSSOMString = ---
PROP_s_resize : CSSOMString = ---
PROP_se_resize : CSSOMString = ---
PROP_sw_resize : CSSOMString = ---
PROP_w_resize : CSSOMString = ---
PROP_ew_resize : CSSOMString = ---
PROP_ns_resize : CSSOMString = ---
PROP_nesw_resize : CSSOMString = ---
PROP_nwse_resize : CSSOMString = ---
PROP_col_resize : CSSOMString = ---
PROP_row_resize : CSSOMString = ---
PROP_all_scroll : CSSOMString = ---
PROP_zoom_in : CSSOMString = ---
PROP_zoom_out : CSSOMString = ---
PROP_display : CSSOMString = ---
PROP_color : CSSOMString = ---
PROP_text_decoration : CSSOMString = ---
PROP_font_weight : CSSOMString = ---
PROP_font_size : CSSOMString = ---
PROP_underline : CSSOMString = ---
PROP_overline : CSSOMString = ---
PROP_line_through : CSSOMString = ---
PROP_url : CSSOMString = ---
PROP_bold : CSSOMString = ---
PROP_blink : CSSOMString = ---
PROP_solid : CSSOMString = ---
PROP_double : CSSOMString = ---
PROP_dotted : CSSOMString = ---
PROP_dashed : CSSOMString = ---
PROP_wavy : CSSOMString = ---
PROP_em : CSSOMString = ---
PROP_transparent : CSSOMString = ---
PROP_before : CSSOMString = ---
PROP_after : CSSOMString = ---
PROP_first_line : CSSOMString = ---
PROP_first_letter : CSSOMString = ---
PROP_not : CSSOMString = ---
PROP_where : CSSOMString = ---
PROP_is : CSSOMString = ---
PROP_host : CSSOMString = ---
PROP_dir : CSSOMString = ---
PROP_ltr : CSSOMString = ---
PROP_rtl : CSSOMString = ---
PROP_block : CSSOMString = ---
PROP_inline : CSSOMString = ---

PC_active: CSSOMString = ---
PC_any_link: CSSOMString = ---
PC_blank: CSSOMString = ---
PC_checked: CSSOMString = ---
PC_current: CSSOMString = ---
PC_default: CSSOMString = ---
PC_defined: CSSOMString = ---
PC_disabled: CSSOMString = ---
PC_drop: CSSOMString = ---
PC_empty: CSSOMString = ---
PC_enabled: CSSOMString = ---
PC_first: CSSOMString = ---
PC_first_child: CSSOMString = ---
PC_first_of_type: CSSOMString = ---
PC_fullscreen: CSSOMString = ---
PC_future: CSSOMString = ---
PC_focus: CSSOMString = ---
PC_focus_visible: CSSOMString = ---
PC_focus_within: CSSOMString = ---
PC_host: CSSOMString = ---
PC_hover: CSSOMString = ---
PC_indeterminate: CSSOMString = ---
PC_in_range: CSSOMString = ---
PC_invalid: CSSOMString = ---
PC_is: CSSOMString = ---
PC_last_child: CSSOMString = ---
PC_last_of_type: CSSOMString = ---
PC_left: CSSOMString = ---
PC_link: CSSOMString = ---
PC_local_link: CSSOMString = ---
PC_only_child: CSSOMString = ---
PC_only_of_type: CSSOMString = ---
PC_optional: CSSOMString = ---
PC_out_of_range: CSSOMString = ---
PC_past: CSSOMString = ---
PC_placeholder_shown: CSSOMString = ---
PC_read_only: CSSOMString = ---
PC_read_write: CSSOMString = ---
PC_required: CSSOMString = ---
PC_right: CSSOMString = ---
PC_root: CSSOMString = ---
PC_scope: CSSOMString = ---
PC_target: CSSOMString = ---
PC_target_within: CSSOMString = ---
PC_user_invalid: CSSOMString = ---
PC_valid: CSSOMString = ---
PC_visited: CSSOMString = ---
PC_playing: CSSOMString = ---
PC_paused: CSSOMString = ---
PC_seeking: CSSOMString = ---
PC_buffering: CSSOMString = ---
PC_stalled: CSSOMString = ---
PC_muted: CSSOMString = ---
PC_volume_locked: CSSOMString = ---
PC_popover_open: CSSOMString = ---
PC_user_valid: CSSOMString = ---
PC_autofill: CSSOMString = ---
PC_modal: CSSOMString = ---
PC_backdrop: CSSOMString = ---

/* Ceci doit être après les tags, car nous l'utilions comme sentinelle dans le
 * métaprogramme plus bas. */

#portée_module

terminologie_initialisée := faux

initialise_tags :: fonc ()
#corps_texte {
    retourne génère_fonction_pour_tags(faux)
}

#ajoute_init initialise_tags()

génère_fonction_pour_tags :: fonc (pour_impression: bool) -> chaine
{
    enchaineuse: Enchaineuse
    initialise_enchaineuse(*enchaineuse)
    diffère détruit_tampons(*enchaineuse)

    saufsi pour_impression {
        ajoute_au_tampon(*enchaineuse, "    si terminologie_initialisée { retourne }\n")
        ajoute_au_tampon(*enchaineuse, "    terminologie_initialisée = vrai\n")
    }

    lexèmes := compilatrice_lèxe_fichier(#chemin_de_ce_fichier)

    pour lexèmes {
        si it.genre != Compilatrice.GenreLexème.CHAINE_CARACTERE {
            continue
        }

        si it.texte == "terminologie_initialisée" {
            arrête
        }

        nom_tag: chaine
        si it.texte.commence_par("PROP_") {
            nom_tag = it.texte.avance(5)
        }
        sinon si it.texte.commence_par("PC_") {
            nom_tag = it.texte.avance(3)
        }
        sinon {
            continue
        }

        nom_tag = copie_chaine(nom_tag)
        diffère déloge(nom_tag)
        remplace_sans_copie(*nom_tag, '_', '-')

        ajoute_au_tampon(*enchaineuse, "    ", it.texte, " = crée_chaine_utf16_unique(\"", nom_tag, "\")\n")
    }

    retourne chaine_depuis_enchaineuse(*enchaineuse)
}

