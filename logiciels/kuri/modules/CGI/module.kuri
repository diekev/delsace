importe POSIX

/*
DOCUMENT_ROOT	The root directory of your server
HTTP_COOKIE	The visitor's cookie, if one is set
HTTP_HOST	The hostname of the page being attempted
HTTP_REFERER	The URL of the page that called your program
HTTP_USER_AGENT	The browser type of the visitor
HTTPS	"on" if the program is being called through a secure server
PATH	The system path your server is running under
QUERY_STRING	The query string (see GET, below)
REMOTE_ADDR	The IP address of the visitor
REMOTE_HOST	The hostname of the visitor (if your server has reverse-name-lookups on; otherwise this is the IP address again)
REMOTE_PORT	The port the visitor is connected to on the web server
REMOTE_USER	The visitor's username (for .htaccess-protected pages)
REQUEST_METHOD	GET or POST
REQUEST_URI	The interpreted pathname of the requested document or CGI (relative to the document root)
SCRIPT_FILENAME	The full pathname of the current CGI
SCRIPT_NAME	The interpreted pathname of the current CGI (relative to the document root)
SERVER_ADMIN	The email address for your server's webmaster
SERVER_NAME	Your server's fully qualified domain name (e.g. www.cgi101.com)
SERVER_PORT	The port number your server is listening on
SERVER_SOFTWARE	The server software you're using (e.g. Apache 1.3)
PATH_INFO
PATH_TRANSLATED
SERVER_PROTOCOL
AUTH_TYPE
CONTENT_TYPE
CONTENT_LENGTH
GATEWAY_INTERFACE
HTTP_ACCEPT
HTTP_ACCEPT_LANGUAGE
*/

DonnéesCGI :: struct {
    racine_serveur: chaine
    cookie: chaine
    hôte: chaine
    référant: chaine
    agent_utilisateur: chaine
    https: chaine
    chemin: chaine
    chaine_requête: chaine
    adresse_client: chaine
    hôte_client: chaine
    port_client: chaine
    utilisateur_client: chaine
    méthode: chaine
    uri: chaine
    nom_fichier_script: chaine
    nom_script: chaine
    administrateur_serveur: chaine
    nom_serveur: chaine
    port_serveur: chaine
    logiciel_serveur: chaine
    info_chemin : chaine
    chemin_traduit : chaine
    protocol_serveur : chaine
    type_authentification : chaine
    type_contenu : chaine
    taille_contenu : chaine
    interface_gateway : chaine
    http_accept : chaine
    http_accept_language : chaine
}

données_cgi :: fonc () -> DonnéesCGI
{
    données : DonnéesCGI = ---
    données.racine_serveur = chaine_environnement("DOCUMENT_ROOT")
    données.cookie = chaine_environnement("HTTP_COOKIE")
    données.hôte = chaine_environnement("HTTP_HOST")
    données.référant = chaine_environnement("HTTP_REFERER")
    données.agent_utilisateur = chaine_environnement("HTTP_USER_AGENT")
    données.https = chaine_environnement("HTTPS")
    données.chemin = chaine_environnement("PATH")
    données.chaine_requête = chaine_environnement("QUERY_STRING")
    données.adresse_client = chaine_environnement("REMOTE_ADDR")
    données.hôte_client = chaine_environnement("REMOTE_HOST")
    données.port_client = chaine_environnement("REMOTE_PORT")
    données.utilisateur_client = chaine_environnement("REMOTE_USER")
    données.méthode = chaine_environnement("REQUEST_METHOD")
    données.uri = chaine_environnement("REQUEST_URI")
    données.nom_fichier_script = chaine_environnement("SCRIPT_FILENAME")
    données.nom_script = chaine_environnement("SCRIPT_NAME")
    données.administrateur_serveur = chaine_environnement("SERVER_ADMIN")
    données.nom_serveur = chaine_environnement("SERVER_NAME")
    données.port_serveur = chaine_environnement("SERVER_PORT")
    données.logiciel_serveur = chaine_environnement("SERVER_SOFTWARE")
    données.info_chemin = chaine_environnement("PATH_INFO")
    données.chemin_traduit = chaine_environnement("PATH_TRANSLATED")
    données.protocol_serveur = chaine_environnement("SERVER_PROTOCOL")
    données.type_authentification = chaine_environnement("AUTH_TYPE")
    données.type_contenu = chaine_environnement("CONTENT_TYPE")
    données.taille_contenu = chaine_environnement("CONTENT_LENGTH")
    données.interface_gateway = chaine_environnement("GATEWAY_INTERFACE")
    données.http_accept = chaine_environnement("HTTP_ACCEPT")
    données.http_accept_language = chaine_environnement("HTTP_ACCEPT_LANGUAGE")

    retourne données
}
