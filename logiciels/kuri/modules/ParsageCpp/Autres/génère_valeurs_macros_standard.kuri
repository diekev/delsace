importe Fondation

principale :: fonc ()
{
    macros := [
        ["__cpp_aligned_new", "%ld"],
        ["__cpp_lib_three_way_comparison", "%ld"],
        ["__cpp_deduction_guides", "%ld"],
        ["__cpp_concepts", "%ld"],
        ["__cpp_lib_concepts", "%ld"],
        ["__cpp_inline_variables", "%ld"],
        ["__cpp_sized_deallocation", "%ld"],
        ["__cpp_transactional_memory", "%ld"],
        ["__cpp_if_consteval", "%ld"],
        ["__cpp_noexcept_function_type", "%ld"],
        ["__cpp_exceptions", "%ld"],
        ["__STDC_HOSTED__", "%d"],
        ["__FLT_MANT_DIG__", "%d"],
        ["__DBL_MANT_DIG__", "%d"],
        ["__SANITIZE_THREAD__", "%ld"],
        ["__GNUC__", "%d"],
        ["__GNUC_MINOR__", "%d"],
        ["__GNUC_PATCHLEVEL__", "%d"],
        ["__GNUG__", "%d"],
        ["__STDCPP_WANT_MATH_SPEC_FUNCS__", "%ld"],
        ["_GLIBCXX_HAVE_IS_CONSTANT_EVALUATED", "%ld"],
        ["_GLIBCXX_USE_C99_CHECK", "%ld"],
        ["_GLIBCXX_USE_C99_DYNAMIC", "%ld"],
        ["_GLIBCXX_USE_C99_LONG_LONG_CHECK", "%ld"],
        ["_GLIBCXX_USE_C99_LONG_LONG_DYNAMIC", "%ld"],
        ["__linux__", "%d"],
        ["__x86_64__", "%d"],
        ["__LP64__", "%d"],
        ["_LP64", "%d"],
        ["__CHAR_BIT__", "%d"],
        ["__SCHAR_MAX__", "0x%x"],
        ["__SHRT_MAX__", "0x%x"],
        ["__INT_MAX__", "0x%x"],
        ["__LONG_MAX__", "0x%lx"],
        ["__FLT_EVAL_METHOD__", "%d"],
        ["__clang_minor__", "%ld"],
        ["__clang_major__", "%ld"],
        ["__cplusplus", "%ld"],
        ["__SCHAR_MAX__", "0x%x"],
        ["__WCHAR_MAX__", "0x%x"],
        ["__SHRT_MAX__", "0x%x"],
        ["__INT_MAX__", "0x%x"],
        ["__LONG_MAX__", "0x%lx"],
        ["__LONG_LONG_MAX__", "0x%llx"],
        ["__WINT_MAX__", "0x%x"],
        ["__SIZE_MAX__", "0x%lx"],
        ["__PTRDIFF_MAX__", "0x%lx"],
        ["__INTMAX_MAX__", "0x%lx"],
        ["__UINTMAX_MAX__", "0x%lx"],
        ["__SIG_ATOMIC_MAX__", "0x%x"],
        ["__INT8_MAX__", "0x%x"],
        ["__INT16_MAX__", "0x%x"],
        ["__INT32_MAX__", "0x%x"],
        ["__INT64_MAX__", "0x%lx"],
        ["__UINT8_MAX__", "0x%x"],
        ["__UINT16_MAX__", "0x%x"],
        ["__UINT32_MAX__", "0x%x"],
        ["__UINT64_MAX__", "0x%lx"],
        ["__INT_LEAST8_MAX__", "0x%x"],
        ["__INT_LEAST16_MAX__", "0x%x"],
        ["__INT_LEAST32_MAX__", "0x%x"],
        ["__INT_LEAST64_MAX__", "0x%lx"],
        ["__UINT_LEAST8_MAX__", "0x%x"],
        ["__UINT_LEAST16_MAX__", "0x%x"],
        ["__UINT_LEAST32_MAX__", "0x%x"],
        ["__UINT_LEAST64_MAX__", "0x%lx"],
        ["__INT_FAST8_MAX__", "0x%x"],
        ["__INT_FAST16_MAX__", "0x%lx"],
        ["__INT_FAST32_MAX__", "0x%lx"],
        ["__INT_FAST64_MAX__", "0x%lx"],
        ["__UINT_FAST8_MAX__", "0x%x"],
        ["__UINT_FAST16_MAX__", "0x%lx"],
        ["__UINT_FAST32_MAX__", "0x%lx"],
        ["__UINT_FAST64_MAX__", "0x%lx"],
        ["__INTPTR_MAX__", "0x%lx"],
        ["__UINTPTR_MAX__", "0x%lx"],
        ["__WCHAR_MIN__", "0x%x"],
        ["__WINT_MIN__", "0x%x"],
        ["__SIG_ATOMIC_MIN__", "0x%x"],
        ["__SCHAR_WIDTH__", "%d"],
        ["__SHRT_WIDTH__", "%d"],
        ["__INT_WIDTH__", "%d"],
        ["__LONG_WIDTH__", "%d"],
        ["__LONG_LONG_WIDTH__", "%d"],
        ["__PTRDIFF_WIDTH__", "%d"],
        ["__SIG_ATOMIC_WIDTH__", "%d"],
        ["__SIZE_WIDTH__", "%d"],
        ["__WCHAR_WIDTH__", "%d"],
        ["__WINT_WIDTH__", "%d"],
        ["__INT_LEAST8_WIDTH__", "%d"],
        ["__INT_LEAST16_WIDTH__", "%d"],
        ["__INT_LEAST32_WIDTH__", "%d"],
        ["__INT_LEAST64_WIDTH__", "%d"],
        ["__INT_FAST8_WIDTH__", "%d"],
        ["__INT_FAST16_WIDTH__", "%d"],
        ["__INT_FAST32_WIDTH__", "%d"],
        ["__INT_FAST64_WIDTH__", "%d"],
        ["__INTPTR_WIDTH__", "%d"],
        ["__INTMAX_WIDTH__", "%d"],
        ["__SIZEOF_INT__", "%d"],
        ["__SIZEOF_LONG__", "%d"],
        ["__SIZEOF_LONG_LONG__", "%d"],
        ["__SIZEOF_SHORT__", "%d"],
        ["__SIZEOF_POINTER__", "%d"],
        ["__SIZEOF_FLOAT__", "%d"],
        ["__SIZEOF_DOUBLE__", "%d"],
        ["__SIZEOF_LONG_DOUBLE__", "%d"],
        ["__SIZEOF_SIZE_T__", "%d"],
        ["__SIZEOF_WCHAR_T__", "%d"],
        ["__SIZEOF_WINT_T__", "%d"],
        ["__SIZEOF_PTRDIFF_T__", "%d"],
        ["__BYTE_ORDER__", "%d"],
        ["__ORDER_LITTLE_ENDIAN__", "%d"],
        ["__ORDER_BIG_ENDIAN__", "%d"],
        ["__ORDER_PDP_ENDIAN__", "%d"],
        ["__FLOAT_WORD_ORDER__", "%d"],
    ]

    macros_chaines := [
        "__SIZE_TYPE__",
        "__PTRDIFF_TYPE__",
        "__WCHAR_TYPE__",
        "__WINT_TYPE__",
        "__INTMAX_TYPE__",
        "__UINTMAX_TYPE__",
        "__SIG_ATOMIC_TYPE__",
        "__INT8_TYPE__",
        "__INT16_TYPE__",
        "__INT32_TYPE__",
        "__INT64_TYPE__",
        "__UINT8_TYPE__",
        "__UINT16_TYPE__",
        "__UINT32_TYPE__",
        "__UINT64_TYPE__",
        "__INT_LEAST8_TYPE__",
        "__INT_LEAST16_TYPE__",
        "__INT_LEAST32_TYPE__",
        "__INT_LEAST64_TYPE__",
        "__UINT_LEAST8_TYPE__",
        "__UINT_LEAST16_TYPE__",
        "__UINT_LEAST32_TYPE__",
        "__UINT_LEAST64_TYPE__",
        "__INT_FAST8_TYPE__",
        "__INT_FAST16_TYPE__",
        "__INT_FAST32_TYPE__",
        "__INT_FAST64_TYPE__",
        "__UINT_FAST8_TYPE__",
        "__UINT_FAST16_TYPE__",
        "__UINT_FAST32_TYPE__",
        "__UINT_FAST64_TYPE__",
        "__INTPTR_TYPE__",
        "__UINTPTR_TYPE__",
    ]

    imprimeln("#include <stdio.h>\n")
    imprimeln("#define _STRINGIZE(x) #x")
    imprimeln("#define STRINGIZE(x) _STRINGIZE(x)")
    imprimeln("int main(int argc, char **argv)")
    imprimeln("{")
    pour macros {
        imprimeln("#ifdef %", it[0])
        imprimeln("    printf(\"ajoute_définition(préprocesseur, \\\"%\\\", %)\\n\", %);", it[0], it[1], it[0])
        imprimeln("#endif")
    }
    pour macros_chaines {
        imprimeln("#ifdef %", it)
        imprimeln("    printf(\"ajoute_définition(préprocesseur, \\\"%\\\", \\\"%\\\")\\n\", STRINGIZE(%));", it, "%s", it)
        imprimeln("#endif")
    }
    imprimeln("}")
}